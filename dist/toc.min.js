(()=>{function g(s){s.directive("table-of-content",(o,{value:u,modifiers:f,expression:p},{Alpine:e,effect:n,cleanup:t})=>{n(()=>{let r=C(o),i=e.$data(o);i.tableOfContent=r,i.testContent="Does this work?"})})}function C(s){let o=["h2","h3","h4"];return[...s.querySelectorAll(o.join(","))].reduce((e,n)=>{let t=n.tagName.slice(1),{id:r,textContent:i}=n,l={headingId:r,textContent:i};if(t==="2"&&e.push([l,[]]),t==="3"&&e[e.length-1][1].push([l,[]]),t==="4"){let d=e[e.length-1];d[1][d[1].length-1][1].push([l,[]])}return e},[]).map(e=>{let[n,t]=e;if(!t.length)return n;let r=t.map(i=>{let[l,d]=i;return d.length?{...l,headingChildren:d.map(a=>{let[h,c]=a;return c.length?{...h,headingChildren:c}:h})}:l});return{...n,headingChildren:r}})}document.addEventListener("alpine:init",()=>window.Alpine.plugin(g));})();
