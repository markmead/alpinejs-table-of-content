function g(s){s.directive("table-of-content",(o,{value:u,modifiers:f,expression:C},{Alpine:e,effect:t,cleanup:n})=>{t(()=>{let r=p(o),i=e.$data(o);i.tableOfContent=r,i.testContent="Does this work?"})})}function p(s){let o=["h2","h3","h4"];return[...s.querySelectorAll(o.join(","))].reduce((e,t)=>{let n=t.tagName.slice(1),{id:r,textContent:i}=t,l={headingId:r,textContent:i};if(n==="2"&&e.push([l,[]]),n==="3"&&e[e.length-1][1].push([l,[]]),n==="4"){let d=e[e.length-1];d[1][d[1].length-1][1].push([l,[]])}return e},[]).map(e=>{let[t,n]=e;if(!n.length)return t;let r=n.map(i=>{let[l,d]=i;return d.length?{...l,headingChildren:d.map(a=>{let[h,c]=a;return c.length?{...h,headingChildren:c}:h})}:l});return{...t,headingChildren:r}})}var v=g;export{v as default};
